@startuml

[*] --> 注文作成中
注文作成中 --> 注文確認待ち : 商品をカートに追加
注文確認待ち --> 支払い待ち : 注文確定
支払い待ち --> 支払い失敗 : 支払いが失敗
支払い失敗 --> 支払い待ち : 支払いを再度通知
支払い待ち --> 支払い完了 : 支払い完了
支払い完了 --> 配送準備中 : 支払いが完了
配送準備中 --> 配送済み : 配送完了
注文確認待ち --> キャンセル済み : 注文をキャンセル
支払い待ち --> キャンセル済み : 注文をキャンセル
キャンセル済み --> 注文作成中
配送済み --> 注文作成中

@enduml